<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Gra Impostor ‚Äî 3‚Äì10 graczy</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { margin:0; padding:0; background:#0f1115; color:#fff; font-family:sans-serif; text-align:center; }
    h1 { margin:18px; font-size:24px; }
    #status { margin:8px; color:#ccc; }
    #controls { margin:8px 16px 0; }
    .sliderRow { display:flex; align-items:center; justify-content:center; gap:10px; }
    input[type=range]{ width:65%; max-width:420px; }
    .bubble{ min-width:46px; padding:8px 10px; background:#1a1f2b; border:1px solid #2d3650; border-radius:10px; font-weight:bold; }
    #wordBox { display:none; margin:16px auto; padding:26px; font-size:32px; border:2px solid #555; border-radius:12px; width:80%; max-width:440px; }
    button { margin:10px; padding:15px; font-size:18px; border-radius:10px; border:none; width:80%; max-width:440px; }
    .info { background:#3b82f6; color:white; }
    .danger { background:#ff3b30; color:white; }
    .ok { background:#2ac769; color:white; }
    .muted { color:#9aa3b2; font-size:13px; margin:0 16px 8px; }
  </style>
</head>
<body>
  <h1>üé≠ Gra Impostor üé≠</h1>

  <div id="controls">
    <div class="sliderRow">
      <span class="muted">Gracze:</span>
      <input id="playersRange" type="range" min="3" max="10" step="1" value="4" oninput="updateCount(this.value)">
      <span id="playersBubble" class="bubble">4</span>
    </div>
    <p class="muted">Ustaw liczbƒô graczy (1 impostor, reszta ma to samo s≈Çowo).</p>
  </div>

  <div id="status">Ustaw suwak i kliknij ‚ÄûNowa runda‚Äù.</div>
  <div id="wordBox"></div>

  <!-- proste onclick dla pe≈Çnej zgodno≈õci z Safari -->
  <button id="btnStart" class="info"  onclick="startGame()">Nowa runda</button>
  <button id="btnShow"  class="ok"     style="display:none" onclick="showWord()">Poka≈º moje has≈Ço</button>
  <button id="btnHide"  class="danger" style="display:none" onclick="hideWord()">Ukryj</button>

  <script>
    // 200 s≈Ç√≥w (du≈ºa pula)
    var WORDS = [
      "Pizza","Hamburger","Pies","Kot","Morze","Jezioro","Pla≈ºa","G√≥ry",
      "Telefon","Komputer","Truskawka","Wi≈õnia","Autobus","PociƒÖg","Samoch√≥d","Motocykl",
      "Samolot","Statek","Mikrofon","S≈Çuchawki","Lato","Zima","Prezent","Tort",
      "Lew","Tygrys","Ryba","O≈õmiornica","Lody","Czekolada","Obraz","Zdjƒôcie",
      "Gra komputerowa","Gra planszowa","Cola","Sok","Szko≈Ça","Przedszkole","Okno","Drzwi",
      "≈Å√≥≈ºko","Kanapa","S≈Ço≈Ñce","Ksiƒô≈ºyc","Zegar","Kalendarz","Krzes≈Ço","St√≥≈Ç",
      "Koszula","Spodnie","Buty","Czapka","Ogie≈Ñ","Woda","Deszcz","≈önieg",
      "Miasto","Wie≈õ","Rower","Hulajnoga","Las","Park","Chleb","Bu≈Çka",
      "Mleko","Jogurt","Ser","Mas≈Ço","Pude≈Çko","Torba","No≈ºyczki","D≈Çugopis",
      "KsiƒÖ≈ºka","Gazeta","Telewizor","Radio","Kawa","Herbata","PƒÖczek","Dro≈ºd≈º√≥wka",
      "Internet","Telewizja","Szpital","Apteka","Kucharz","Kelner","Policjant","Stra≈ºak",
      "M≈Çotek","≈örubokrƒôt","Farba","Pƒôdzel","Gitara","Pianino","Skrzypce","Perkusja",
      "Ziemia","Mars","Jab≈Çko","Gruszka","Rakieta","Satelita","Most","Tunel",
      "Szafa","Biurko","Lampa","Dywan","Samuraj","Rycerz","Smok","Elf",
      "≈öwieca","Latarka","Traktor","Kombajn","Koparka","Buldo≈ºer","Robot","Dron",
      "Telegram","List","Email","SMS","Kr√≥l","Kr√≥lowa","KsiƒÖ≈ºƒô","Ksiƒô≈ºniczka",
      "Mapa","Kompas","GPS","Radar","Fotograf","Malarz","Pisarz","Poeta",
      "Pralka","Lod√≥wka","Zmywarka","Piekarnik","Doktor","Dentysta","Nauczyciel","Ucze≈Ñ",
      "Mostek","Port","Lotnisko","Dworzec","Klucz","Zamek","Moneta","Banknot",
      "Futbol","Koszyk√≥wka","Siatk√≥wka","Tenis","Basen","Rzeka","≈πr√≥d≈Ço","Wodospad",
      "Motyl","Pszczo≈Ça","Mr√≥wka","Komar","Kaktus","R√≥≈ºa","Drzewo","Klon",
      "Tƒôcza","Gwiazda","Planeta","Galaktyka","Film","Serial","Teatr","Opera",
      "Komiks","Manga","Anime","Bajka","Statek kosmiczny","≈Å√≥d≈∫ podwodna","≈ªagl√≥wka","Kajak",
      "Maska","Kapelusz","P≈Çaszcz","Kurtka","S≈Ço≈Ñ","≈ªyrafa","Hipopotam","Krokodyl",
      "Arbuz","Melon","Cytryna","Pomara≈Ñcza","Granat","Mango","Ananas","Kokos",
      "Miƒôso","Kurczak","Wo≈Çowina","Wieprzowina","Szpinak","Marchew","Og√≥rek","Pomidor",
      "Sekunda","Minuta","Godzina","Dzie≈Ñ","Tydzie≈Ñ","MiesiƒÖc","Rok","Wiek",
      "Kolor","Kszta≈Çt","D≈∫wiƒôk","Zapach","Chmura","Mg≈Ça","Burza","Huragan",
      "Papuga","Kanarek","Kruk","Sowa","PociƒÖg towarowy","Metro","Tramwaj","Taxi",
      "Biblioteka","Muzeum","Galeria","Teatr","Hotel","Restauracja","Kawiarnia","Bar"
    ];

    var TOTAL = 4;      // aktualna liczba graczy (startowo 4)
    var players = [];   // talia hase≈Ç dla rundy
    var turn = 0;

    function $(id){ return document.getElementById(id); }
    function updateCount(v){ TOTAL = parseInt(v,10); $("playersBubble").innerHTML = TOTAL; }

    function startGame(){
      players = [];
      turn = 0;

      // losujemy s≈Çowo dla wiƒôkszo≈õci
      var word = WORDS[Math.floor(Math.random()*WORDS.length)];
      // losujemy indeks impostora w zakresie 0..TOTAL-1
      var impostor = Math.floor(Math.random()*TOTAL);

      for (var i=0;i<TOTAL;i++){
        players.push(i===impostor ? "IMPOSTOR" : word);
      }

      $("status").innerHTML = "Gracz 1/"+TOTAL+" ‚Äî kliknij ‚ÄûPoka≈º moje has≈Ço‚Äù.";
      $("btnStart").style.display = "none";
      $("btnShow").style.display  = "inline-block";
      $("btnHide").style.display  = "none";
      $("wordBox").style.display  = "none";
    }

    function showWord(){
      if (turn>=TOTAL) return;
      $("wordBox").innerHTML = players[turn];
      $("wordBox").style.display = "block";
      $("btnShow").style.display  = "none";
      $("btnHide").style.display  = "inline-block";
    }

    function hideWord(){
      $("wordBox").style.display = "none";
      turn++;
      if (turn>=TOTAL){
        $("status").innerHTML = "Runda zako≈Ñczona ‚Äî kliknij ‚ÄûNowa runda‚Äù.";
        $("btnStart").style.display = "inline-block";
        $("btnShow").style.display  = "none";
        $("btnHide").style.display  = "none";
      } else {
        $("status").innerHTML = "Gracz "+(turn+1)+"/"+TOTAL+" ‚Äî kliknij ‚ÄûPoka≈º moje has≈Ço‚Äù.";
        $("btnShow").style.display  = "inline-block";
        $("btnHide").style.display  = "none";
      }
    }

    // inicjalnie zsynchronizuj bƒÖbelek z suwakiem
    updateCount($("playersRange").value);
  </script>
</body>
</html>
